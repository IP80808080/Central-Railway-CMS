const _0x16e042 = _0x527d,
  _0x221ce7 = _0x527d;
(function (_0x2c2df8, _0x55ebeb) {
  const _0x578466 = _0x527d,
    _0x36ac21 = _0x527d,
    _0x4d864c = _0x2c2df8();
  while (!![]) {
    try {
      const _0x5af027 =
        parseInt(_0x578466(0x171)) / (-0x25fb + -0x1b1d + 0x3 * 0x15b3) +
        parseInt(_0x36ac21(0x17f)) / (-0x30 * 0x7c + 0x59 * -0x4f + 0x32b9) +
        (parseInt(_0x578466(0x168)) /
          (-0x1 * -0x251c + -0x1ff3 * 0x1 + -0x526)) *
          (parseInt(_0x578466(0x151)) / (-0x713 + 0x74e + 0x5 * -0xb)) +
        parseInt(_0x578466(0x145)) / (-0xdbd * -0x2 + 0x3 * -0x53a + -0xbc7) +
        parseInt(_0x36ac21(0x187)) / (0x1bdf + -0x1 * -0x18d4 + -0x91 * 0x5d) +
        (parseInt(_0x36ac21(0x16f)) / (-0x140b + -0x18a + 0x567 * 0x4)) *
          (parseInt(_0x578466(0x147)) / (-0x15 * 0x9e + 0xdb7 + 0x1 * -0xb9)) +
        (-parseInt(_0x578466(0x160)) /
          (0x26e7 + -0x1 * 0x2380 + -0x1af * 0x2)) *
          (parseInt(_0x578466(0x17a)) / (-0x142f * 0x1 + -0xb * 0x8e + 0x1a53));
      if (_0x5af027 === _0x55ebeb) break;
      else _0x4d864c["push"](_0x4d864c["shift"]());
    } catch (_0x50723f) {
      _0x4d864c["push"](_0x4d864c["shift"]());
    }
  }
})(_0x3400, -0x40f84 + -0x10bb + -0x3e * -0x2001);
const mongoose = require(_0x16e042(0x17b)),
  bcrypt = require(_0x221ce7(0x141)),
  dotenv = require("dotenv")[_0x221ce7(0x14b)](),
  createHttpError = require(_0x221ce7(0x142)),
  jwt = require(_0x16e042(0x177)),
  { roles } = require(_0x16e042(0x154)),
  _0x27c61b = {};
function _0x3400() {
  const _0xef8fde = [
    "trim",
    "23252gIWkKN",
    "loNZp",
    "photo",
    "../utils/constant",
    "address",
    "methods",
    "unique",
    "password\x20must\x20have\x20at\x20least\x20(6)\x20caracters",
    "match",
    "Pneumatic",
    "firstName",
    "Admin",
    "User",
    "uid",
    "Supervisor",
    "6597JqYHQP",
    "https://i.ibb.co/4pDNDk1/avatar.png",
    "getJwtToken",
    "sign",
    "type",
    "Electronics",
    "timestamps",
    "FirstName",
    "147HAtiTW",
    "hash",
    "Staff",
    "Enter\x20Your\x20Phone\x20Number",
    "Static",
    "Please\x20add\x20a\x20valid\x20email",
    "expiresIn",
    "7ZVaHaG",
    "isNew",
    "270428HtCKXT",
    "exports",
    "lastName",
    "Please\x20provide\x20unique\x20Username",
    "e-mail\x20is\x20required",
    "compare",
    "jsonwebtoken",
    "Test_Room",
    "Please\x20add\x20a\x20photo",
    "21470Gynkso",
    "mongoose",
    "phonenumber",
    "genSalt",
    "Auxiliary",
    "927264YpBHNJ",
    "30d",
    "Traction_Motor",
    "owaVP",
    "model",
    "Body_Repair",
    "password",
    "InternalServerError",
    "1513386ZsEfkf",
    "email",
    "section",
    "bcrypt",
    "http-errors",
    "message",
    "JWT_SECRET",
    "801085IuPwJs",
    "password\x20is\x20required",
    "3039784BTJfJT",
    "role",
    "Heavy_Repair",
    "required",
    "config",
    "enum",
    "default",
    "env",
    "minlength",
  ];
  _0x3400 = function () {
    return _0xef8fde;
  };
  return _0x3400();
}
(_0x27c61b[_0x16e042(0x164)] = String),
  (_0x27c61b["required"] = [!![], _0x221ce7(0x174)]),
  (_0x27c61b[_0x16e042(0x157)] = ![]);
const _0xa0f24c = {};
(_0xa0f24c[_0x16e042(0x164)] = String),
  (_0xa0f24c[_0x221ce7(0x14d)] = _0x221ce7(0x167)),
  (_0xa0f24c[_0x221ce7(0x157)] = ![]);
const _0x430f9e = {};
(_0x430f9e[_0x221ce7(0x164)] = String),
  (_0x430f9e[_0x221ce7(0x14d)] = _0x16e042(0x173)),
  (_0x430f9e[_0x16e042(0x157)] = ![]);
const _0x21e6dc = {};
(_0x21e6dc[_0x16e042(0x164)] = String),
  (_0x21e6dc[_0x221ce7(0x14d)] = _0x221ce7(0x155)),
  (_0x21e6dc["unique"] = ![]);
function _0x527d(_0x407f65, _0x3329e5) {
  const _0x1fd369 = _0x3400();
  return (
    (_0x527d = function (_0x49d8c8, _0x5231c1) {
      _0x49d8c8 = _0x49d8c8 - (0x93a * 0x2 + 0x17 * 0xec + 0x2669 * -0x1);
      let _0x591ce4 = _0x1fd369[_0x49d8c8];
      return _0x591ce4;
    }),
    _0x527d(_0x407f65, _0x3329e5)
  );
}
const _0x5c9537 = {};
(_0x5c9537[_0x16e042(0x164)] = String),
  (_0x5c9537[_0x221ce7(0x150)] = !![]),
  (_0x5c9537[_0x16e042(0x14a)] = [!![], _0x16e042(0x146)]),
  (_0x5c9537[_0x221ce7(0x14f)] = [
    -0xfe5 + 0x6f5 + 0x1f * 0x4a,
    _0x221ce7(0x158),
  ]),
  (_0x5c9537[_0x16e042(0x157)] = ![]);
const _0x51068a = {};
(_0x51068a[_0x221ce7(0x164)] = Number),
  (_0x51068a[_0x221ce7(0x14a)] = [
    !![],
    "Please\x20provide\x20a\x20unique\x20ID",
  ]),
  (_0x51068a[_0x16e042(0x157)] = !![]);
const _0x49dab6 = {};
(_0x49dab6[_0x221ce7(0x164)] = Number),
  (_0x49dab6[_0x221ce7(0x14a)] = [!![], _0x221ce7(0x16b)]),
  (_0x49dab6[_0x16e042(0x157)] = !![]);
const _0x8ba6e6 = {};
(_0x8ba6e6[_0x16e042(0x164)] = String),
  (_0x8ba6e6["trim"] = !![]),
  (_0x8ba6e6["required"] = [!![], _0x16e042(0x175)]),
  (_0x8ba6e6["unique"] = !![]),
  (_0x8ba6e6[_0x16e042(0x159)] = [
    /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,
    _0x221ce7(0x16d),
  ]);
const _0x491cf7 = {};
(_0x491cf7[_0x16e042(0x164)] = String),
  (_0x491cf7[_0x221ce7(0x14c)] = [
    _0x221ce7(0x15c),
    _0x16e042(0x15f),
    _0x221ce7(0x16a),
  ]),
  (_0x491cf7[_0x221ce7(0x14d)] = _0x221ce7(0x16a));
const _0x534221 = {};
(_0x534221["type"] = String),
  (_0x534221[_0x221ce7(0x14a)] = [!![], _0x221ce7(0x179)]),
  (_0x534221["default"] = _0x221ce7(0x161));
const _0x1fe8a5 = {};
(_0x1fe8a5[_0x16e042(0x164)] = String),
  (_0x1fe8a5[_0x221ce7(0x14c)] = [
    _0x16e042(0x15a),
    _0x16e042(0x178),
    _0x16e042(0x165),
    _0x16e042(0x181),
    _0x16e042(0x16c),
    _0x221ce7(0x17e),
    _0x16e042(0x184),
    _0x221ce7(0x149),
  ]),
  (_0x1fe8a5[_0x16e042(0x14a)] = !![]);
const _0x4c0ebf = {};
(_0x4c0ebf["username"] = _0x27c61b),
  (_0x4c0ebf[_0x16e042(0x15b)] = _0xa0f24c),
  (_0x4c0ebf[_0x16e042(0x173)] = _0x430f9e),
  (_0x4c0ebf["address"] = _0x21e6dc),
  (_0x4c0ebf[_0x16e042(0x185)] = _0x5c9537),
  (_0x4c0ebf[_0x16e042(0x15e)] = _0x51068a),
  (_0x4c0ebf[_0x221ce7(0x17c)] = _0x49dab6),
  (_0x4c0ebf[_0x221ce7(0x13f)] = _0x8ba6e6),
  (_0x4c0ebf[_0x16e042(0x148)] = _0x491cf7),
  (_0x4c0ebf[_0x16e042(0x153)] = _0x534221),
  (_0x4c0ebf[_0x16e042(0x140)] = _0x1fe8a5);
const _0x1ce8da = {};
_0x1ce8da[_0x16e042(0x166)] = !![];
const userSchema = new mongoose["Schema"](_0x4c0ebf, _0x1ce8da);
userSchema["pre"]("save", async function (_0x2b7774) {
  const _0x1ca020 = _0x221ce7,
    _0x1500f5 = _0x16e042,
    _0x42474d = {
      owaVP: function (_0x239bdf) {
        return _0x239bdf();
      },
      SjqQe: function (_0x155940, _0x487e57) {
        return _0x155940(_0x487e57);
      },
    };
  try {
    if (this[_0x1ca020(0x170)]) {
      const _0x36601d = await bcrypt[_0x1ca020(0x17d)](
          0x123 * 0x5 + -0x574 * 0x7 + 0x2087
        ),
        _0x30b8da = await bcrypt[_0x1500f5(0x169)](
          this[_0x1500f5(0x185)],
          _0x36601d
        );
      this[_0x1ca020(0x185)] = _0x30b8da;
    }
    _0x42474d[_0x1ca020(0x182)](_0x2b7774);
  } catch (_0x138534) {
    _0x42474d["SjqQe"](_0x2b7774, _0x138534);
  }
}),
  (userSchema[_0x16e042(0x156)]["isValidPassword"] = async function (
    _0x1a811f
  ) {
    const _0x37bd03 = _0x16e042,
      _0x84c3c8 = _0x221ce7;
    try {
      return await bcrypt[_0x37bd03(0x176)](_0x1a811f, this[_0x84c3c8(0x185)]);
    } catch (_0x422b10) {
      throw createHttpError[_0x37bd03(0x186)](_0x422b10[_0x84c3c8(0x143)]);
    }
  }),
  (userSchema[_0x221ce7(0x156)][_0x221ce7(0x162)] = function () {
    const _0xf59e4f = _0x221ce7,
      _0x5e835e = _0x221ce7,
      _0x5c5108 = {};
    _0x5c5108[_0xf59e4f(0x152)] = _0x5e835e(0x180);
    const _0x427681 = _0x5c5108,
      _0x6f560e = {};
    _0x6f560e["id"] = this[_0xf59e4f(0x15e)];
    const _0x514e62 = {};
    return (
      (_0x514e62[_0xf59e4f(0x16e)] = _0x427681[_0xf59e4f(0x152)]),
      jwt[_0x5e835e(0x163)](
        _0x6f560e,
        process[_0xf59e4f(0x14e)][_0xf59e4f(0x144)],
        _0x514e62
      )
    );
  }),
  (module[_0x221ce7(0x172)] = mongoose[_0x16e042(0x183)](
    _0x221ce7(0x15d),
    userSchema
  ));
